% LaTeX file for resume

% possible options include:
%   font size (10pt, 11pt and 12pt)
%   paper size (a4paper, a5paper, letterpaper, legalpaper, and landscape)
%   font family (sans and roman)
\documentclass[10pt,letterpaper,sans]{moderncv}

%\usepackage{fontspec}

\usepackage{tikz}

\newcommand{\ghCommit}[1]{%
\begin{tikzpicture}[y=0.7pt,x=0.7pt,yscale=-1, inner sep=0pt, outer sep=0pt]%
  \path[even odd rule,fill=#1]%
  (10.86,7.00) .. controls (10.41,5.28) and%
  (8.86,4.00) .. (7.00,4.00) .. controls (5.14,4.00) and%
  (3.59,5.28) .. (3.14,7.00) -- (0.00,7.00) -- (0.00,9.00) --%
  (3.14,9.00) .. controls (3.59,10.72) and (5.14,12.00) ..%
  (7.00,12.00) .. controls (8.86,12.00) and (10.41,10.72) ..%
  (10.86,9.00) -- (14.00,9.00) -- (14.00,7.00) -- (10.86,7.00)%
  -- cycle(7.00,10.20) .. controls (5.78,10.20) and (4.80,9.22) ..%
  (4.80,8.00) .. controls (4.80,6.78) and (5.78,5.80) ..%
  (7.00,5.80) .. controls (8.22,5.80) and (9.20,6.78) ..%
  (9.20,8.00) .. controls (9.20,9.22) and (8.22,10.20) ..%
  (7.00,10.20) -- cycle;%
\end{tikzpicture}}

% style options are casual (default), classic, banking, oldstyle and fancy
% color options black, blue (default), burgundy, green, grey, orange, and red
\moderncvstyle{casual}
\moderncvcolor{blue}
%\moderncvicons{marvosym}

% to set the default font:
%   use \sfdefault for the default sans serif font
%   use \rmdefault for the default roman one
%   or use any TeX font name
\renewcommand{\familydefault}{\sfdefault}

% Disable page numbers
\nopagenumbers{}

% character encoding
%\usepackage[utf8]{inputenc}

% adjust the page margins
\usepackage[scale=0.75]{geometry}

% extra packages
\usepackage{booktabs}

% patch moderncv's \cventry to not include a '.' at the end of its args
% see https://tex.stackexchange.com/questions/241093/moderncv-cventry-remove-dots-at-the-end-of-line
\usepackage{xpatch}
\xpatchcmd{\cventry}{.\strut}{\strut}{}{}

% if you want to change the width of the column with the dates
%%\setlength{\hintscolumnwidth}{3cm}

% if you want to force the width allocated to your name and avoid line breaks
%%\setlength{\makecvtitlenamewidth}{10cm}

\name{Daniel}{Cartwright}
\email{chessai1996@gmail.com}
%\homepage{chessai.me} # nothing there, currently
\social[github]{chessai}
\social[linkedin]{chessai}

% TODO: make this open in new tab, somehow
\newcommand{\wlink}[2]{\textcolor[HTML]{461645}{\href{#1}{#2}}}

\newcommand{\nixpkg}[2]{%
  \wlink{https://github.com/NixOS/nixpkgs/tree/master/pkgs/#1/#2/default.nix}%
        {#2}%
}

\newcommand{\ghlink}[2]{\wlink{https://github.com/#1}{#2}}
\newcommand{\ghrepo}[1]{\ghlink{#1}{\faGithub}}
\newcommand{\ghlang}[1]{\texttt{#1}}
\newcommand{\ghcom}[1]{\textcolor[HTML]{666666}{\ghCommit{} #1}}
\newcommand{\ghadd}[1]{\textcolor[HTML]{30A622}{{\faPlusCircle} #1}}
\newcommand{\ghrem}[1]{\textcolor[HTML]{BD2C00}{{\faMinusCircle} #1}}
\newcommand{\ghstar}[1]{#1}
\newcommand{\ghfork}[1]{#1}
\newcommand{\ghtr}[0]{}
\newcommand{\ghtf}[0]{\faCodeFork}

\newcommand{\ghub}[4]{\ghrepo{#2} | \ghlang{#1} | \ghadd{#3} | \ghrem{#4}}
\newcommand{\ghtable}[6]{#1 & #2 & #3 & #4 & #5 & #6 \\}
\newcommand{\ght}[9]{%
  \ghtable{#1}
          {\ghlink{#2/#3}{#3}}
          {\ghlang{#4}}
          {\ghcom{#5}}
          {\ghadd{#6}}
          {\ghrem{#7}}%
}

\newcommand{\lang}[1]{\texttt{#1}}
\newcommand{\langskill}[2]{\href{https://en.wikipedia.org/wiki/#1_(programming_language)}{\lang{#2}}}
\newcommand{\lstable}[3]{\langskill{#1}{#2} & #3 \\}

\newcommand{\course}[2]{\texttt{#1 #2}}
\newcommand{\credit}[0]{$\star$}

\usepackage{tabularx}

\begin{document}
\makecvtitle{}

%\vspace{0.6em}

\section{Work Experience}
\cventry{2017--Present}
  {Programmer}
  {\wlink{https://layer3com.com}{Layer 3 Communications, LLC.}}
  {\newline I develop and maintain a suite of network security tools in \lang{Haskell} as part of a small team.
  }
  {}
  {
\begin{itemize}
  \item \textcolor{blue}{Allsight} - A distributed \wlink{https://en.wikipedia.org/wiki/Security_information_and_event_management}{SIEM}. The tool ingests syslog from various network devices (e.g. switches, routers, firewalls) and puts them through several transformative analysis pipelines (powered by \wlink{https://kafka.apache.org/}{Apache Kafka}). From this data, the tool uses rules defined by security experts to detect both single-log and multi-log (correlated) events, on which it then alerts via various channels, to clients and security response teams (either NOC personnel or security engineers). The tool has a frontend through which our security team can configure rulesand view collected data. Clients can also use the frontend to view all data relevant to them.
  \item \textcolor{blue}{Insight} - A consumer of \textcolor{blue}{Allsight}. For clients with SSL Decrypt enabled on their network, this tool run simple pattern-matching rules over all web search data, alerting users who have subscribed to each rule. This is used in school systems to track web searches of students.
  \item \textcolor{blue}{Diamond} - A network performance monitoring system. Uses \wlink{https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol}{SNMP} to gather metrics from network devices (e.g. interface throughput; utilization of cpu, memory, storage, power). The tool is fully concurrent; Thousands of hosts can be polled in about 30 seconds total. These metrics are normalized and pushed into \wlink{https://kafka.apache.org/}{Apache Kafka}. Three consumers read from this data: one which alerts on metrics that are indicative of a performance issue, one which pushes the data into \wlink{https://www.influxdata.com/}{InfluxDB}, and one which generates the \wlink{https://grafana.com/}{Grafana} dashboards based on the structure of the data. \wlink{https://grafana.com/}{Grafana} uses \wlink{https://www.influxdata.com/}{InfluxDB} as a data source for visualising all of this data.
  \item \textcolor{blue}{Netcrawl} - Uses \wlink{https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol}{SNMP} and \wlink{https://en.wikipedia.org/wiki/Link_Layer_Discovery_Protocol}{LLDP} to brute-force the discovery of a network, given only a subnet or set of subnets. The tool collects a variety of useful data about each node in the network, and outputs a summary which can be analysed by human or another tool. The graph of the network can be output as a \wlink{http://www.graphviz.org/}{GraphViz} dot file. It is used to inform tools such as \textcolor{blue}{Diamond}.
  \item \textcolor{blue}{Lightband} - A GUI tool for ISPs that makes configuring \wlink{https://en.wikipedia.org/wiki/Network_interface_device\#Optical_network_terminals}{ONTs} significantly easier.
  \item Set up and maintained a hydra for Layer 3 Communications developers.
\end{itemize}
}

%\vspace{0.6em}

\section{Open Source Programming}
\cventry{2017--Present}
  {Maintainer \& Contributor}
  {\wlink{https://github.com/chessai}{chessai}}
  {\newline I began writing \lang{Haskell} in August of 2017, \lang{Nix} shortly after. Since then, I have contributed to over 200 open source \lang{Haskell} projects. I actively maintain or co-maintain roughly 100 open source \lang{Haskell} libraries. I am a member of the \wlink{https://wiki.haskell.org/Core_Libraries_Committee}{Haskell Core Libraries Committe}, which oversees and maintains the core libraries that make up the \lang{Haskell} ecosystem. I am a drive-by contributor of the \wlink{https://www.haskell.org/ghc/}{Glasgow Haskell Compiler}. Listed are a few projects to which I contribute heavily and proudly.
  }
  {}
  {
\begin{itemize}
  \item refined: Embedding simple first-order refinement types inside of GHC Haskell. Supports run-time and compile-time refinements. \newline \ghub{Haskell}{chessai/refined}{5195}{3622}
  \item streaming: Haskell streaming library. \newline \ghub{Haskell}{haskell-streaming/streaming}{342}{292}
  %\item hedgehog-classes: Testing library for rapid typeclass law property testing using \wlink{https://hedgehog.qa/}{Hedgehog}. \newline \ghub{Haskell}{chessai/hedgehog-classes}{9354}{2380}
  \item eigen: Haskell bindings to the Eigen C++ linear algebra library. Provides a type-level interface to dimensionality, making many operations statically-verified to be safe. \newline \ghub{Haskell}{chessai/eigen}{342341}{15327}
  \item nixos-configs: My NixOS configs. \newline \ghub{Nix}{chessai/nixos-configs}{2674}{1353}
  %\item rotera: A high-performance, persisted rotating queue. \newline \ghub{Haskell}{andrewthad/rotera}{1431}{330}
\end{itemize}
}

\section{Skills}
\cvitem{Programming}{
  \setlength{\tabcolsep}{8pt}
  \begin{tabular}{l l}
    \midrule
    \lstable{Haskell}{Haskell}{Expert}
    \href{https://en.wikipedia.org/wiki/Nix_package_manager}{\lang{Nix}} & Advanced \\
    \lstable{C}{C}{Intermediate}
    \lstable{Rust}{Rust}{Intermediate}
    \lstable{Idris}{Idris}{Intermediate}
    \lstable{Purescript}{Purescript}{Intermediate}
    \lstable{C_Sharp}{C\#}{Novice}
    \midrule
  \end{tabular}
}

\cvitem{Software}{
  \href{https://en.wikipedia.org/wiki/Linux}{Linux}, %
  \href{https://nixos.org}{NixOS}, %
  \href{https://git-scm.com}{git}, %
  \href{https://dhall-lang.org/}{Dhall}, %
  \href{https://www.latex-project.org}{\LaTeX} %
}

\end{document}
